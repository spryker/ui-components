@btn-prefix-core-cls: ~'@{btn-prefix-cls}-core';
@btn-prefix-core-btn-cls: ~'@{btn-prefix-core-cls}__btn';

.@{btn-prefix-core-cls} {
  display: inline-flex;
  flex-direction: column;

  &--primary {
    .@{btn-prefix-core-btn-cls} {
      background: @btn-primary-bg;
      border-color: @btn-primary-bg;

      &:hover {
        color: @btn-primary-color;
        box-shadow: @btn-primary-shadow-hover;
      }

      &:focus {
        color: @btn-primary-color;
        box-shadow: @btn-shadow-default-size transparent;

        &::after {
          box-shadow: @btn-shadow-default-size @btn-primary-bg;
        }
      }

      &:active {
        color: @btn-primary-color;
        background: @btn-primary-active-bg;
        border-color: @btn-primary-active-bg;

        &::after {
          box-shadow: @btn-shadow-default-size transparent;
        }
      }
    }
  }

  &--secondary {
    .@{btn-prefix-core-btn-cls} {
      background: @btn-default-bg;
      color: @btn-default-color;
      border-color: @btn-default-border;

      &:hover {
        background: @btn-default-bg;
        color: @btn-default-color;
        border-color: @btn-default-border-hover;
        box-shadow: @btn-default-shadow-hover;
      }

      &:focus,
      &:active {
        background: @btn-default-bg;
        color: @btn-default-color;
        border-color: @btn-default-border-active;
      }

      &:focus {
        box-shadow: @btn-shadow-default-size transparent;
      }

      &:active {
        background: @btn-default-bg-active;
      }
    }
  }

  &--critical {
    .@{btn-prefix-core-btn-cls} {
      background: @btn-danger-bg;
      border-color: @btn-danger-bg;

      &:hover {
        box-shadow: @btn-danger-shadow-hover;
      }

      &:focus,
      &:active {
        color: @btn-danger-color;
        background: @btn-danger-active-bg;
        border-color: @btn-danger-active-bg;
      }

      &:focus {
        box-shadow: @btn-shadow-default-size transparent;

        &::after {
          box-shadow: @btn-shadow-default-size @btn-danger-bg;
        }
      }

      &:active::after {
        box-shadow: @btn-shadow-default-size transparent;
      }
    }
  }

  &--lg {
    .@{btn-prefix-core-btn-cls} {
      min-width: @btn-min-width-lg;
      padding-left: @btn-horizontal-padding-base-lg;
      padding-right: @btn-horizontal-padding-base-lg;
      min-height: @btn-height-lg;

      &.loading {
        padding: @btn-padding-with-loading-lg;
      }

      .@{spin-prefix-cls} {
        &-nested-loading {
          left: @btn-loading-spin-offset-lg;
        }
      }
    }
  }

  &--md {
    .@{btn-prefix-core-btn-cls} {
      min-width: @btn-min-width-md;
      min-height: @btn-height-md;
      padding-left: @btn-horizontal-padding-base-md;
      padding-right: @btn-horizontal-padding-base-md;

      &.loading {
        padding: @btn-padding-with-loading-md;
      }
    }
  }

  &--xs,
  &--sm {
    .@{btn-prefix-core-btn-cls} {
      min-width: @btn-min-width-sm;
    }
  }

  &--sm {
    .@{btn-prefix-core-btn-cls} {
      min-height: @btn-height-sm;
    }
  }

  &--xs {
    .@{btn-prefix-core-btn-cls} {
      min-height: @btn-height-xs;
    }
  }

  &--circle {
    .@{btn-prefix-core-btn-cls} {
      border-radius: @btn-border-radius-circle;
    }
  }

  &--round {
    .@{btn-prefix-core-btn-cls} {
      border-radius: @btn-border-radius-round;
    }
  }
}

.@{btn-prefix-core-btn-cls} {
  .transition-mixin(all);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  padding: @btn-horizontal-vertical-base @btn-horizontal-padding-base;
  box-shadow: @btn-shadow-default-size transparent;
  font: @font-weight-medium @font-size-base / @btn-line-height-base @font-family;
  text-align: center;
  border-radius: @btn-border-radius;
  border: @btn-border-width solid transparent;
  text-decoration: none;
  color: @btn-primary-color;
  cursor: pointer;
  position: relative;
  width: 100%;

  &.loading {
    padding: @btn-padding-with-loading-sm;
  }

  .@{spin-prefix-cls} {
    color: currentColor;

    &-nested-loading {
      position: absolute;
      left: @btn-loading-spin-offset-sm;
      height: 100%;
    }

    &-dot-item {
      background: currentColor;
    }
  }

  &::after {
    .transition-mixin(box-shadow);
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    bottom: -2px;
    right: -2px;
    border-radius: inherit;
    box-shadow: @btn-shadow-default-size transparent;
    animation: none;
    opacity: 1;
  }

  &:hover,
  &:focus,
  &:active {
    outline: none;
  }

  &:active {
    transform: scaleX(0.9);
  }

  &[disabled] {
    border-color: @btn-disable-border;
    color: @disabled-color;
    background: @disabled-bg;
    pointer-events: none;
  }
}
