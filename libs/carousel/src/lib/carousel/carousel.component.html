<swiper
  #mainSwiper
  containerModifierClass="spy-carousel__"
  [slidesPerView]="'auto'"
  [centeredSlides]="true"
  [thumbs]="withThumbs ? { swiper: thumbsSwiper } : null"
  [navigation]="!withThumbs"
>
  <ng-template swiperSlide *ngFor="let slide of slides$ | async">
    <ng-container *ngTemplateOutlet="slide.template"></ng-container>
  </ng-template>
</swiper>
<swiper
  #thumbSwiper
  containerModifierClass="spy-carousel__"
  class="thumbs-swiper"
  *ngIf="withThumbs"
  [slidesPerView]="'auto'"
  [spaceBetween]="10"
  (swiper)="thumbsSwiper = $event"
>
  <ng-template swiperSlide *ngFor="let slide of slides$ | async">
    <ng-container *ngTemplateOutlet="slide.thumbTemplate"></ng-container>
  </ng-template>
</swiper>
<button
  class="spy-carousel__navigation-button spy-carousel__navigation-button--preview"
  (click)="slidePrev()"
  [hidden]="!withThumbs || hidePrev"
>
  <spy-icon
    class="spy-carousel__navigation-button-icon spy-carousel__navigation-button-icon--preview"
    [name]="paginationArrowIcon"
  ></spy-icon>
</button>
<button
  class="spy-carousel__navigation-button spy-carousel__navigation-button--next"
  (click)="slideNext()"
  [hidden]="!withThumbs || hideNext"
>
  <spy-icon
    class="spy-carousel__navigation-button-icon spy-carousel__navigation-button-icon--next"
    [name]="paginationArrowIcon"
  ></spy-icon>
</button>
