@import './date-picker.component.theme.less';

@date-picker-icon-navigation-arrow: var(
    --spy-date-picker-icon-navigation-arrow,
    url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik0xNi4zMDIgNS41MjRsLjAxMi4wMTIgNC45MDEgNC45NDVjLjQ3NC4zMjEuNzg1Ljg2NC43ODUgMS40OHYuMDMzYzAgLjUxOS0uMjIuOTg2LS41NzQgMS4zMTJsLTUuMTEyIDUuMTU4YTEuNzc5IDEuNzc5IDAgMDEtMi41MTUuMDEybC0uMDEyLS4wMTItLjAxOC0uMDE4YTEuNzg3IDEuNzg3IDAgMDEwLTIuNTE1TDE1LjkgMTMuNzhIMy43ODdDMi44IDEzLjc4IDIgMTIuOTggMiAxMS45OTV2LS4wMzRjMC0uOTg2LjgtMS43ODYgMS43ODctMS43ODZsMTIuMDY3LS4wMDEtMi4wODUtMi4xMDRhMS43ODcgMS43ODcgMCAwMTAtMi41MTVsLjAxOC0uMDE4YTEuNzc5IDEuNzc5IDAgMDEyLjUxNS0uMDEyeiIgaWQ9ImEiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48dXNlIGZpbGw9IiM5RUExQTciIHhsaW5rOmhyZWY9IiNhIi8+PGcgbWFzaz0idXJsKCNiKSIgZmlsbD0iIzEyMTIxMiI+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIvPjwvZz48L2c+PC9zdmc+Cg==')
        no-repeat center/ @calendar-btn-background-size
);
@date-picker-icon-navigation-arrow-active: var(
    --spy-date-picker-icon-navigation-arrow-active,
    url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik0xNi4zMDIgNS41MjRsLjAxMi4wMTIgNC45MDEgNC45NDVjLjQ3NC4zMjEuNzg1Ljg2NC43ODUgMS40OHYuMDMzYzAgLjUxOS0uMjIuOTg2LS41NzQgMS4zMTJsLTUuMTEyIDUuMTU4YTEuNzc5IDEuNzc5IDAgMDEtMi41MTUuMDEybC0uMDEyLS4wMTItLjAxOC0uMDE4YTEuNzg3IDEuNzg3IDAgMDEwLTIuNTE1TDE1LjkgMTMuNzhIMy43ODdDMi44IDEzLjc4IDIgMTIuOTggMiAxMS45OTV2LS4wMzRjMC0uOTg2LjgtMS43ODYgMS43ODctMS43ODZsMTIuMDY3LS4wMDEtMi4wODUtMi4xMDRhMS43ODcgMS43ODcgMCAwMTAtMi41MTVsLjAxOC0uMDE4YTEuNzc5IDEuNzc5IDAgMDEyLjUxNS0uMDEyeiIgaWQ9ImEiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48dXNlIGZpbGw9IiNmZmYiIHhsaW5rOmhyZWY9IiNhIi8+PGcgbWFzaz0idXJsKCNiKSIgZmlsbD0iIzEyMTIxMiI+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIvPjwvZz48L2c+PC9zdmc+Cg==')
);

.ant-picker {
    display: block;
    position: relative;
    cursor: pointer;
    padding: 0;
    width: auto;
    border: @calendar-input-border;

    &,
    &-dropdown {
        font: @font-default;
    }

    &-focused {
        border-color: @green;

        &:hover {
            border-color: @green;
        }
    }

    &.ant-picker-disabled {
        border-color: @gray-light;
        background: @spy-disabled-bg;

        .ant-picker-suffix {
            color: @gray;
        }
    }

    &-input {
        height: @calendar-input-height;
        padding: @calendar-input-padding;

        > input {
            font-size: inherit;
            height: 100%;

            &.ant-input {
                background: @transparent;
            }
        }
    }

    &-suffix,
    &-clear {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        height: @calendar-picker-icon-width;
        width: @calendar-picker-icon-height;
        font-size: @calendar-picker-icon-font-size;
        color: @gray-dark;
        right: @calendar-input-horizontal-padding;
    }

    &-clear {
        z-index: @calendar-clear-z-index;
        background: @gray-light;
        border-radius: 50%;

        &::after,
        &::before {
            .transition-mixin(background);
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            width: @calendar-clear-cross-width;
            height: @calendar-clear-cross-height;
            border-radius: @calendar-clear-cross-radius;
            background: @gray-dark;
        }

        &::before {
            transform: translate(-50%, -50%) rotate(-45deg);
        }

        &:hover {
            background: @gray-light;

            &::before,
            &::after {
                background: @gray-darker;
            }
        }

        .anticon {
            display: none;
        }
    }

    &-dropdown {
        top: @calendar-picker-container-top;
        left: auto;
    }

    &-panel-container {
        box-shadow: @calendar-picker-container-shadow;
    }

    &-panel-container,
    &-decade-panel,
    &-year-panel,
    &-quarter-panel,
    &-month-panel,
    &-week-panel,
    &-date-panel,
    &-time-panel {
        height: @calendar-height;
        width: @calendar-width;
        border-radius: @calendar-border-radius;
        background-color: @spy-white;
    }

    &-body {
        padding: @calendar-body-padding;
    }

    &-header {
        border-bottom: none;
        padding: @calendar-header-padding;
        margin-top: @calendar-header-margin-top;
        margin-bottom: @calendar-header-margin-bottom;

        .ant-picker-header-super-prev-btn,
        .ant-picker-header-super-next-btn,
        .ant-picker-header-prev-btn,
        .ant-picker-header-next-btn {
            width: @calendar-month-btn-width;
            height: @calendar-month-btn-height;
            border-radius: @calendar-month-btn-border-radius;
            border: @calendar-month-btn-border;
            color: @gray-dark;
            background: @date-picker-icon-navigation-arrow;

            &:hover {
                border-color: @gray;
            }

            &:focus {
                border-color: @green;
            }

            &:active {
                border-color: @green;
                background-color: @green;
                background-image: @date-picker-icon-navigation-arrow-active;
                color: @spy-white;
            }

            span {
                display: none;
            }
        }

        .ant-picker-header-super-prev-btn,
        .ant-picker-header-prev-btn {
            transform: scaleX(-1);
        }

        &-super-prev-btn,
        &-super-next-btn {
            display: none;
        }

        &-view {
            display: flex;
            flex-direction: row-reverse;
            justify-content: center;

            button:not(:first-child) {
                margin: @calendar-header-view-first-button-margin;
            }
        }
    }

    &-cell {
        padding: @calendar-cell-padding;

        &::before {
            display: none;
        }

        .ant-picker-cell-inner {
            position: relative;
            width: 100%;
            height: @calendar-tbody-td-height;
            max-width: @calendar-tbody-td-max-width-height;
            border: none;
            border-radius: @calendar-date-border-radius;
            line-height: @calendar-date-line-height;
            font-weight: @calendar-date-font-weight;
            color: @gray;

            &::after {
                content: '';
                position: absolute;
                inset: -1px;
                pointer-events: none;
                background: none;
                border: @calendar-tbody-td-border;
                box-shadow: none;
            }
        }

        &.ant-picker-cell-in-view {
            .ant-picker-cell-inner {
                color: @gray-dark;
            }
        }

        &.ant-picker-cell-in-view:hover,
        &:hover {
            .ant-picker-cell-inner {
                color: @gray-darker;
                background-color: @gray-lighter !important;
            }
        }

        &:focus {
            .ant-picker-cell-inner::after {
                border-color: @green;
            }
        }

        &-today.ant-picker-cell-in-view,
        &-today {
            .ant-picker-cell-inner {
                background: @gray-lighter;
                color: @ink;

                &::before {
                    display: none;
                }
            }

            &:hover {
                .ant-picker-cell-inner {
                    color: @ink;
                    background-color: @gray-light !important;
                }
            }
        }

        &-selected.ant-picker-cell-in-view,
        &-selected {
            .ant-picker-cell-inner {
                background-color: @green !important;
                color: @spy-white;
            }

            &:focus,
            &:active,
            &:hover {
                .ant-picker-cell-inner {
                    background-color: @green !important;
                    color: @spy-white;
                }
            }
        }

        &-disabled.ant-picker-cell-in-view,
        &-disabled {
            pointer-events: none;

            .ant-picker-cell-inner {
                background-color: @gray-lighter !important;
                color: @gray;
            }
        }
    }

    &-month-panel,
    &-year-panel {
        .ant-picker-header {
            &-super-prev-btn,
            &-super-next-btn {
                display: block;
            }

            &-prev-btn,
            &-next-btn {
                display: none;
            }
        }

        .ant-picker-cell {
            .ant-picker-cell-inner {
                border-radius: @calendar-tbody-td-month-radius;
            }

            &:not(.ant-picker-cell-in-view) {
                .ant-picker-cell-inner {
                    color: @gray-dark;
                }

                &:hover {
                    .ant-picker-cell-inner {
                        color: @gray-darker;
                    }
                }
            }
        }
    }

    &-date-panel &-content {
        width: 100%;
        box-sizing: border-box;

        tbody {
            td {
                height: @calendar-tbody-td-height;
                border: @calendar-tbody-border;
                border-bottom: none;
            }

            /* stylelint-disable selector-max-compound-selectors */
            tr:last-child td {
                border-bottom: @calendar-tbody-border;
            }
            /* stylelint-enable */
        }
    }

    &-year-panel &-header-year-btn {
        pointer-events: none;
    }

    &-time {
        width: auto;
        height: auto;

        .ant-picker-time-panel {
            width: auto;
            height: auto;
            border-left: none;

            .ant-picker-time-panel-cell .ant-picker-time-panel-cell-inner {
                height: @calendar-time-cell-height;
                line-height: @calendar-time-cell-height;
            }

            .ant-picker-time-panel-cell-disabled {
                pointer-events: none;

                .ant-picker-time-panel-cell-inner {
                    background-color: @gray-lighter;
                    color: @gray;
                }
            }

            .ant-picker-time-panel-cell-selected .ant-picker-time-panel-cell-inner {
                background: @spy-primary-color;
                color: @spy-white;

                &:hover,
                &:focus {
                    background: @spy-primary-color;
                    color: @spy-white;
                }
            }
        }

        .ant-picker-now {
            display: none;
        }

        .ant-picker-panel {
            border-width: 0;
        }
    }

    &-time-panel {
        display: flex;
        justify-content: flex-end;
        padding: @calendar-time-content-padding;

        .ant-picker-content {
            flex: none;
            border: @calendar-tbody-border;
            height: @calendar-time-content-height;
        }

        .ant-picker-time-panel-column {
            border: none;
            width: @calendar-time-cell-width;
        }

        .ant-picker-header-view {
            height: @calendar-time-title-height;
            line-height: @calendar-time-title-height;
            color: @gray-dark;
            font-weight: @font-weight-default;
        }
    }

    &-footer {
        display: none;
    }
}
