<ul nz-menu nzMode="inline">
	<ng-container *ngTemplateOutlet="menuTpl; context: { $implicit: items }"></ng-container>

	<ng-template #menuTpl let-items>
		<ng-container *ngFor="let item of items">
			<li
				*ngIf="!item.subItems.length"
				nz-menu-item
				[nzPaddingLeft]="0"
				[nzSelected]="item.isActive"
			>
				<a [href]="item.url">
					<ng-container *ngTemplateOutlet="titleTpl"></ng-container>
				</a>
			</li>

			<li
				*ngIf="item.subItems.length"
				nz-submenu
				[nzOpen]="item.isActive"
				[nzTitle]="titleTpl"
				[nzPaddingLeft]="0"
				[nzDisabled]="item.disabled"
			>
				<ng-container *ngTemplateOutlet="menuTpl; context: { $implicit: item.subItems }"></ng-container>
			</li>

			<ng-template #titleTpl>
				<spy-icon *ngIf="item.icon" [name]="item.icon"></spy-icon>
				<span>{{ item.title }}</span>
			</ng-template>
		</ng-container>
	</ng-template>
</ul>
