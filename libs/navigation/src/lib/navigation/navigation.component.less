@import './navigation.component.theme.less';

.@{navigation-prefix-cls} {
  &-title-text {
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: @line-height-base;
  }

  &-title-icon {
    .transition-mixin(color);
    color: @gray-dark;
    margin-right: @navigation-item-icon-margin-right;
    font-size: @navigation-item-icon-size;
    width: @navigation-item-icon-size;
    height: @navigation-item-icon-size;
    line-height: @navigation-item-icon-line-height;
    flex-shrink: @navigation-item-icon-flex-shrink;

    &:empty {
      display: none;
    }

    .anticon {
      min-width: @navigation-item-icon-min-width;
      margin: @navigation-item-icon-margin;
      font-size: inherit;
      line-height: @navigation-item-icon-line-height;
    }
  }
}

.@{menu-prefix-cls} {
  font: @font-default;
  background: transparent;

  > .@{menu-prefix-cls}-item,
  > .@{menu-prefix-cls}-submenu {
    border-radius: @menu-item-radius;

    > a,
    > .@{menu-prefix-cls}-submenu-title {
      padding: @menu-item-padding;
      border-radius: @menu-item-radius;
    }

    > .@{menu-prefix-cls}-sub > ul {
      > .@{menu-prefix-cls}-item,
      > .@{menu-prefix-cls}-submenu {
        > a,
        > .@{menu-prefix-cls}-submenu-title {
          padding: @menu-item-submenu-padding;
        }

        > .@{menu-prefix-cls}-sub > ul {
          > .@{menu-prefix-cls}-item,
          > .@{menu-prefix-cls}-submenu {
            a,
            .@{menu-prefix-cls}-submenu-title {
              padding: @menu-item-submenu-submenu-padding;
            }
          }
        }
      }
    }
  }

  .@{menu-prefix-cls}-item,
  .@{menu-prefix-cls}-submenu {
    padding: @menu-item-default-padding !important;
    width: @menu-item-width;
    white-space: normal;

    > a:only-child,
    > .@{menu-prefix-cls}-submenu-title {
      .transition-mixin(background color);
      border: @menu-item-border;
      width: @menu-item-width;
      display: flex;
      align-items: center;
      text-decoration: none;
      white-space: normal;

      &:focus {
        border: @menu-item-focus-border;
        box-shadow: @menu-item-focus-box-shadow;
      }

      &:hover {
        background: @gray-lighter;
        color: @ink;

        .@{navigation-prefix-cls}-title-icon {
          color: @gray-darker;
        }
      }
    }

    &.@{menu-prefix-cls}-item-selected {
      > a:only-child,
      > .@{menu-prefix-cls}-submenu-title,
      &:hover {
        background: @gray-lighter;
        color: @green-dark;

        .@{navigation-prefix-cls}-title-icon {
          color: @primary-color;
        }
      }
    }

    &.@{menu-prefix-cls}-submenu-open {
      > .@{menu-prefix-cls}-submenu-title {
        background: @gray-lighter;
        color: @ink;

        .@{menu-prefix-cls}-submenu-arrow {
          transform: @menu-item-open-arrow-transform;

          &::before {
            transform: @menu-item-open-arrow-transform-before;
          }

          &::after {
            transform: @menu-item-open-arrow-transform-after;
          }
        }

        .@{navigation-prefix-cls}-title-icon {
          color: @gray-darker;
        }
      }
    }

    .@{menu-prefix-cls}-submenu-title .@{menu-prefix-cls}-submenu-arrow {
      &::before,
      &::after {
        background-image: linear-gradient(
          to right,
          @gray-dark,
          @gray-dark
        ) !important;
        width: @menu-item-arrow-width;
        height: @menu-item-arrow-height;
      }

      &::before {
        transform: @menu-item-arrow-transform-before;
      }

      &::after {
        transform: @menu-item-arrow-transform-after;
      }
    }
  }

  &-inline,
  &-vertical {
    border: none;
    height: @menu-inline-height;

    > .@{menu-prefix-cls}-item-selected {
      &::before {
        content: '';
        position: absolute;
        display: block;
        top: @menu-item-decorator-top-spacing;
        bottom: @menu-item-decorator-bottom-spacing;
        left: @menu-item-decorator-left-spacing;
        width: @menu-item-decorator-width;
        background: @primary-color;
        border-radius: @border-radius-base;
      }
    }

    &-collapsed {
      width: @menu-collapsed-width;

      .@{menu-prefix-cls}-item > a,
      .@{menu-prefix-cls}-submenu > .@{menu-prefix-cls}-submenu-title {
        padding: @menu-collapsed-item-padding;
        font-size: @font-size-sm;
        flex-direction: column;

        .@{menu-prefix-cls}-submenu-arrow {
          display: none;
        }

        .@{navigation-prefix-cls}-title-icon {
          margin-right: @navigation-collapsed-item-icon-margin-right;

          .anticon {
            font-size: inherit;
          }
        }

        .@{navigation-prefix-cls}-title-text {
          padding-top: @navigation-collapsed-item-text-padding-top;
        }
      }
    }
  }

  &-submenu-popup {
    border-radius: unset;

    &::before {
      display: none;
    }

    &.@{menu-prefix-cls}-submenu-placement-right {
      width: @menu-item-popup-width;
      padding-left: @menu-item-popup-list-padding-left !important;
    }

    .@{menu-prefix-cls} {
      border-radius: unset;
      box-shadow: none;
    }

    .@{menu-prefix-cls}-item,
    .@{menu-prefix-cls}-submenu {
      .@{menu-prefix-cls}-submenu-title .@{menu-prefix-cls}-submenu-arrow {
        transform: @menu-item-popup-arrow-transform;

        &::before {
          transform: @menu-item-popup-arrow-transform-before;
        }

        &::after {
          transform: @menu-item-popup-arrow-transform-after;
        }
      }

      &.@{menu-prefix-cls}-submenu-open {
        > .@{menu-prefix-cls}-submenu-title .@{menu-prefix-cls}-submenu-arrow {
          transform: @menu-item-popup-arrow-transform;

          &::before {
            transform: @menu-item-popup-open-arrow-transform-before;
          }

          &::after {
            transform: @menu-item-popup-open-arrow-transform-after;
          }
        }
      }
    }

    .@{menu-prefix-cls}-sub {
      border-radius: @menu-item-popup-sub-list-radius;
      padding: @menu-item-popup-sub-list-padding;
      box-shadow: @menu-item-popup-sub-list-box-shadow;

      .@{menu-prefix-cls}-item,
      .@{menu-prefix-cls}-submenu {
        a,
        .@{menu-prefix-cls}-submenu-title {
          padding: @menu-item-popup-padding;
        }
      }
    }
  }
}
