@import './navigation.component.theme.less';

.spy-navigation {
    &__title-text {
        overflow: hidden;
        text-overflow: ellipsis;
        line-height: @spy-line-height-base;
        width: 100%;
    }

    &__title-icon {
        color: @gray-dark;
        margin-right: @navigation-item-icon-margin-right;
        font-size: @navigation-item-icon-size;
        width: @navigation-item-icon-size;
        height: @navigation-item-icon-size;
        line-height: @navigation-item-icon-line-height;
        flex-shrink: @navigation-item-icon-flex-shrink;

        &:empty {
            display: none;
        }

        .anticon {
            min-width: @navigation-item-icon-min-width;
            margin: @navigation-item-icon-margin;
            font-size: inherit;
            line-height: @navigation-item-icon-line-height;
        }
    }
}

.ant-menu {
    font: @font-default;
    background: @transparent;

    > .ant-menu-item,
    > .ant-menu-submenu {
        border-radius: @menu-item-radius;

        a,
        > .ant-menu-submenu-title {
            padding: @menu-item-padding;
            border-radius: @menu-item-radius;
        }

        > .ant-menu-sub > ul {
            > .ant-menu-item,
            > .ant-menu-submenu {
                a,
                > .ant-menu-submenu-title {
                    padding: @menu-item-submenu-padding;
                }

                > .ant-menu-sub > ul {
                    > .ant-menu-item,
                    > .ant-menu-submenu {
                        a,
                        .ant-menu-submenu-title {
                            padding: @menu-item-submenu-submenu-padding;
                        }
                    }
                }
            }
        }
    }

    .ant-menu-item,
    .ant-menu-submenu {
        padding: @menu-item-default-padding !important;
        width: @menu-item-width;
        white-space: normal;

        a,
        > .ant-menu-submenu-title {
            .transition-mixin(background, color, border;);
            border: @menu-item-border;
            width: @menu-item-width;
            display: flex;
            align-items: center;
            text-decoration: none;
            white-space: normal;

            &:focus {
                border: @menu-item-focus-border;
            }

            &:hover {
                background: @gray-lighter;
                color: @ink;

                .spy-navigation__title-icon {
                    color: @gray-darker;
                }
            }
        }

        &.ant-menu-item-selected {
            &:hover,
            a,
            > .ant-menu-submenu-title {
                background: @gray-lighter;
                color: @green-dark;

                .spy-navigation__title-icon {
                    color: @spy-primary-color;
                }
            }
        }

        &.ant-menu-submenu-open {
            > .ant-menu-submenu-title {
                background: @gray-lighter;
                color: @ink;

                .ant-menu-submenu-arrow {
                    transform: @menu-item-open-arrow-transform;

                    /* stylelint-disable selector-max-class */
                    &::before {
                        transform: @menu-item-open-arrow-transform-before;
                    }

                    &::after {
                        transform: @menu-item-open-arrow-transform-after;
                    }
                    /* stylelint-enable */
                }

                .spy-navigation__title-icon {
                    color: @gray-darker;
                }
            }
        }

        .ant-menu-submenu-title .ant-menu-submenu-arrow {
            &::before,
            &::after {
                background-image: linear-gradient(to right, @gray-dark, @gray-dark);
                width: @menu-item-arrow-width;
                height: @menu-item-arrow-height;
            }

            &::before {
                transform: @menu-item-arrow-transform-before;
            }

            &::after {
                transform: @menu-item-arrow-transform-after;
            }
        }
    }

    &-inline,
    &-vertical {
        border: none;
        height: @menu-inline-height;

        &.ant-menu-sub {
            background: none;
        }

        > .ant-menu-item-selected {
            &::before {
                content: '';
                position: absolute;
                display: block;
                top: @menu-item-decorator-top-spacing;
                bottom: @menu-item-decorator-bottom-spacing;
                left: @menu-item-decorator-left-spacing;
                width: @menu-item-decorator-width;
                background: @spy-primary-color;
                border-radius: @border-radius-base;
            }
        }

        &-collapsed {
            width: @menu-collapsed-width;

            &.ant-menu {
                .ant-menu-item a,
                .ant-menu-submenu > .ant-menu-submenu-title {
                    padding: @menu-collapsed-item-padding;
                    text-align: center;
                }
            }

            .ant-menu-item a,
            .ant-menu-submenu > .ant-menu-submenu-title {
                font-size: @spy-font-size-sm;
                flex-direction: column;

                .ant-menu-submenu-arrow {
                    display: none;
                }

                .spy-navigation__title-icon {
                    margin-right: @navigation-collapsed-item-icon-margin-right;

                    /* stylelint-disable selector-max-class, selector-max-compound-selectors */
                    .anticon {
                        font-size: inherit;
                    }
                    /* stylelint-enable */
                }

                .spy-navigation__title-text {
                    padding-top: @navigation-collapsed-item-text-padding-top;
                }
            }
        }
    }

    &-submenu-popup {
        border-radius: unset;

        &::before {
            display: none;
        }

        &.ant-menu-submenu-placement-right {
            width: @menu-item-popup-width;
            padding-left: @menu-item-popup-list-padding-left !important;
        }

        .ant-menu {
            border-radius: unset;
            box-shadow: none;
        }

        .ant-menu-item,
        .ant-menu-submenu {
            .ant-menu-submenu-title .ant-menu-submenu-arrow {
                transform: @menu-item-popup-arrow-transform;

                &::before {
                    transform: @menu-item-popup-arrow-transform-before;
                }

                &::after {
                    transform: @menu-item-popup-arrow-transform-after;
                }
            }

            &.ant-menu-submenu-open {
                > .ant-menu-submenu-title .ant-menu-submenu-arrow {
                    transform: @menu-item-popup-arrow-transform;

                    /* stylelint-disable selector-max-class */
                    &::before {
                        transform: @menu-item-popup-open-arrow-transform-before;
                    }

                    &::after {
                        transform: @menu-item-popup-open-arrow-transform-after;
                    }
                    /* stylelint-enable */
                }
            }
        }

        .ant-menu-sub {
            background: @spy-white;
            border-radius: @menu-item-popup-sub-list-radius;
            padding: @menu-item-popup-sub-list-padding;
            box-shadow: @menu-item-popup-sub-list-box-shadow;

            .ant-menu-item,
            .ant-menu-submenu {
                a,
                .ant-menu-submenu-title {
                    padding: @menu-item-popup-padding;
                }
            }
        }
    }
}
