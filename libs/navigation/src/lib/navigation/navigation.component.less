@import './navigation.component.theme.less';

.@{menu-prefix-cls} {
  font: @font-default;
  background: transparent;

  > .@{menu-prefix-cls}-item,
  > .@{menu-prefix-cls}-submenu {
    border-radius: @menu-item-radius;

    > a,
    > .@{menu-prefix-cls}-submenu-title {
      padding: @menu-item-padding;
      border-radius: @menu-item-radius;
    }

    > .@{menu-prefix-cls}-sub > ul {
      > .@{menu-prefix-cls}-item,
      > .@{menu-prefix-cls}-submenu {
        > a,
        > .@{menu-prefix-cls}-submenu-title {
          padding: @menu-item-submenu-padding;
        }

        > .@{menu-prefix-cls}-sub > ul {
          > .@{menu-prefix-cls}-item,
          > .@{menu-prefix-cls}-submenu {
            a,
            .@{menu-prefix-cls}-submenu-title {
              padding: @menu-item-submenu-submenu-padding;
            }
          }
        }
      }
    }
  }

  .@{menu-prefix-cls}-item,
  .@{menu-prefix-cls}-submenu {
    .transition-mixin(background);
    padding: 0 !important;
    width: 100%;
    white-space: normal;

    > a:only-child,
    > .@{menu-prefix-cls}-submenu-title {
      .transition-mixin(background color);
      border: @menu-item-focus-border-transparent;
      width: 100%;
      display: flex;
      align-items: center;
      color: inherit;
      text-decoration: none;
      white-space: normal;

      &:focus {
        border: @menu-item-focus-border;
        box-shadow: @menu-item-focus-box-shadow;
      }
    }

    &.@{menu-prefix-cls}-submenu-open {
      > .@{menu-prefix-cls}-submenu-title .@{menu-prefix-cls}-submenu-arrow {
        transform: @menu-item-open-arrow-transform;

        &::before {
          transform: @menu-item-open-arrow-transform-before;
        }

        &::after {
          transform: @menu-item-open-arrow-transform-after;
        }
      }
    }

    .@{menu-prefix-cls}-submenu-title .@{menu-prefix-cls}-submenu-arrow {
      &::before,
      &::after {
        background-image: linear-gradient(
          to right,
          @gray-dark,
          @gray-dark
        ) !important;
        width: @menu-item-arrow-width;
        height: @menu-item-arrow-height;
      }

      &::before {
        transform: @menu-item-arrow-transform-before;
      }

      &::after {
        transform: @menu-item-arrow-transform-after;
      }
    }
  }

  &-item-active,
  &:not(&-inline) &-submenu-open,
  &-submenu-active {
    color: @menu-item-color;
  }

  &-item:hover,
  &-submenu-title:hover {
    background: @gray-lighter;

    > a,
    > .@{menu-prefix-cls}-submenu-title {
      color: @ink;
    }

    .@{menu-prefix-cls}-title-icon {
      color: @gray-darker;
    }
  }

  &-item-selected {
    color: @green-dark;
    background: @gray-lighter;

    &:hover,
    a,
    a:hover,
    .@{menu-prefix-cls}-submenu-title,
    .@{menu-prefix-cls}-submenu-title:hover {
      color: @green-dark;

      .@{menu-prefix-cls}-title-icon {
        color: @primary-color;
      }
    }
  }

  &-title-text {
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: @line-height-base;
  }

  &-title-icon {
    .transition-mixin(color);
    color: @gray-dark;
    margin-right: @menu-item-icon-margin-right;
    font-size: @menu-item-icon-size;
    width: @menu-item-icon-size;
    height: @menu-item-icon-size;
    line-height: @menu-item-icon-line-height;
    flex-shrink: @menu-item-icon-flex-shrink;

    &:empty {
      display: none;
    }
  }

  .anticon {
    min-width: @menu-item-icon-min-width;
    margin: @menu-item-icon-margin;
    font-size: inherit;
    line-height: @menu-item-icon-line-height;
  }

  &-inline,
  &-vertical {
    border: none;
    height: 100%;

    > .@{menu-prefix-cls}-item-selected {
      &::before {
        content: '';
        position: absolute;
        display: block;
        top: @menu-item-decorator-top-spacing;
        bottom: @menu-item-decorator-bottom-spacing;
        left: @menu-item-decorator-left-spacing;
        width: @menu-item-decorator-width;
        background: @primary-color;
        border-radius: @border-radius-base;
      }
    }

    &-collapsed {
      width: @menu-collapsed-width;

      .@{menu-prefix-cls}-item > a,
      .@{menu-prefix-cls}-submenu > .@{menu-prefix-cls}-submenu-title {
        padding: @menu-collapsed-item-padding;
        font-size: @font-size-sm;
        flex-direction: column;

        .@{menu-prefix-cls}-title-icon {
          margin-right: @menu-collapsed-item-icon-margin-right;
        }

        .@{menu-prefix-cls}-title-text {
          padding-top: @menu-collapsed-item-text-padding-top;
        }

        .@{menu-prefix-cls}-submenu-arrow {
          display: none;
        }

        .anticon {
          min-width: @menu-item-icon-min-width;
          margin: @menu-item-icon-margin;
          font-size: inherit;
          line-height: @menu-item-icon-line-height;
        }
      }
    }
  }

  &-submenu-popup {
    border-radius: unset;

    &::before {
      display: none;
    }

    &.@{menu-prefix-cls}-submenu-placement-right {
      width: @menu-item-popup-width;
      padding-left: @menu-item-popup-list-padding-left !important;
    }

    .@{menu-prefix-cls} {
      border-radius: unset;
      box-shadow: none;
    }

    .@{menu-prefix-cls}-item,
    .@{menu-prefix-cls}-submenu {
      .@{menu-prefix-cls}-submenu-title .@{menu-prefix-cls}-submenu-arrow {
        transform: @menu-item-popup-arrow-transform;

        &::before {
          transform: @menu-item-popup-arrow-transform-before;
        }

        &::after {
          transform: @menu-item-popup-arrow-transform-after;
        }
      }

      &.@{menu-prefix-cls}-submenu-open {
        > .@{menu-prefix-cls}-submenu-title .@{menu-prefix-cls}-submenu-arrow {
          transform: @menu-item-popup-arrow-transform;

          &::before {
            transform: @menu-item-popup-open-arrow-transform-before;
          }

          &::after {
            transform: @menu-item-popup-open-arrow-transform-after;
          }
        }
      }
    }

    .@{menu-prefix-cls}-sub {
      border-radius: @menu-item-popup-sub-list-radius;
      padding: @menu-item-popup-sub-list-padding;
      box-shadow: @menu-item-popup-sub-list-box-shadow;

      .@{menu-prefix-cls}-item,
      .@{menu-prefix-cls}-submenu {
        a,
        .@{menu-prefix-cls}-submenu-title {
          padding: @menu-item-popup-padding;
        }
      }
    }
  }
}
