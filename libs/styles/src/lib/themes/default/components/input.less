@import 'ng-zorro-antd/input/style/index.less';

@input-height-base: 42px;
@spy-input-height-base: var(--spy-input-height-base, @input-height-base);
@input-padding-horizontal-base: 11px;
@spy-input-padding-horizontal-base: var(--spy-input-padding-horizontal-base, @input-padding-horizontal-base);
@input-padding-vertical-base: 4px;
@spy-input-padding-vertical-base: var(--spy-input-padding-vertical-base, @input-padding-vertical-base);
@input-padding-base: var(--spy-input-padding-base, @spy-input-padding-vertical-base @spy-input-padding-horizontal-base);
@input-bg: var(--spy-input-bg, @spy-white);
@input-placeholder-color: var(--spy-input-placeholder-color, @gray-dark);
@input-color: var(--spy-input-color, @ink);
@input-border-color: var(--spy-input-border-color, @gray-light);
@input-hover-border-color: var(--spy-input-hover-border-color, @border-color-base);
@input-focus-border-color: var(--spy-input-focus-border-color, @green);
@input-disabled-bg: var(--spy-input-disabled-bg, @spy-disabled-bg);
@input-disabled-border: var(--spy-input-disabled-border, @gray-light);
@input-icon-color: var(--spy-input-icon-color, @input-placeholder-color);
@input-icon-hover-color: var(--spy-input-icon-hover-color, @input-placeholder-color);
@input-add-before-spacing: var(--spy-input-add-before-spacing, 35px);
@input-affix-padding: var(--spy-input-affix-padding, 40px);
@input-wrapper-border-radius: var(--spy-input-wrapper-border-radius, @border-radius-base);
@input-default-border-radius: var(--spy-input-default-border-radius, calc(@border-radius-base - @border-width-base));
@input-prefix-suffix-position-top: var(--spy-input-prefix-suffix-position-top, 50%);
@input-prefix-suffix-transform: var(--spy-input-prefix-suffix-transform, translateY(-50%));
@input-prefix-suffix-z-index: var(--spy-input-prefix-suffix-z-index, 2);
@input-prefix-position-left: var(--spy-input-prefix-position-left, 10px);
@input-suffix-position-right: var(--spy-input-suffix-position-right, 10px);

.ant-input-group {
    .ant-input {
        &:only-child {
            border-radius: @border-radius-base;
        }

        &:hover,
        &:focus {
            border-right-width: @spy-border-width-base;
        }
    }

    .ant-input-group-addon {
        background: @gray-lighter;
        color: @gray-dark;
        font-family: @font-family;

        &:first-of-type {
            padding-right: @input-add-before-spacing;
        }
    }

    &-wrapper {
        border-radius: @input-wrapper-border-radius;
    }
}

.ant-input {
    height: @spy-input-height-base;
    font: @font-default;
    padding: @input-padding-base;

    &:read-only,
    &-disabled {
        &,
        .has-error & {
            border-color: @input-disabled-border;
        }
    }

    &:read-only {
        &,
        .has-error & {
            color: @ink;
            background: @input-disabled-bg;
        }
    }

    &:focus {
        .has-error & {
            box-shadow: none;
        }

        &::placeholder {
            color: @transparent;
        }
    }

    &:invalid {
        box-shadow: none;
    }

    &-affix-wrapper {
        height: @spy-input-height-base;
        padding: 0;

        input.ant-input {
            height: 100%;
            padding: @input-padding-base;
            border-radius: @input-default-border-radius;
        }

        &--suffix input.ant-input {
            padding-right: @input-affix-padding;
        }

        &--prefix input.ant-input {
            padding-left: @input-affix-padding;
        }

        &-focused {
            .transition-mixin(border-color, box-shadow;);
            border-radius: @input-wrapper-border-radius;

            .ant-input {
                box-shadow: none;
            }
        }

        .ant-input {
            &-prefix,
            &-suffix {
                position: absolute;
                top: @input-prefix-suffix-position-top;
                transform: @input-prefix-suffix-transform;
                color: @input-icon-color;
                z-index: @input-prefix-suffix-z-index;
                line-height: 0;
                font-family: @font-family;
            }

            &-prefix {
                left: @input-prefix-position-left;
            }

            &-suffix {
                right: @input-suffix-position-right;
            }
        }

        &:hover {
            .ant-input-disabled,
            .ant-input:read-only {
                border-color: @input-disabled-border;
            }
        }
    }

    &-container {
        &--hover {
            .ant-input-group-addon,
            .ant-input-affix-wrapper,
            .ant-input {
                border-color: @gray;
            }

            .ant-input-disabled {
                border-color: @gray-light;
            }
        }

        &--focus {
            &.ant-input-affix-wrapper-focused .ant-input-affix-wrapper,
            &.ant-input-affix-wrapper-focused.ant-input-affix-wrapper,
            .ant-input-group-addon,
            .ant-input {
                border-color: @spy-primary-color;
                border-width: @spy-border-width-base;
            }

            &.ant-input-affix-wrapper-focused .ant-input-affix-wrapper {
                box-shadow: none;
            }
        }
    }
}
