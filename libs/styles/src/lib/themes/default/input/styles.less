@import 'ng-zorro-antd/input/style/index.less';
@import '../theme.less';

.@{ant-input}-group {
  .@{ant-input} {
    &:only-child {
      border-radius: @border-radius-base;
    }
  }

  .@{ant-input}-group-addon {
    background: @gray-lighter;
    color: @gray-dark;
    font-family: @font-family;

    &:first-of-type {
      padding-right: @input-add-before-spacing;
    }
  }
}

.@{ant-input} {
  height: @input-height-base;
  font: @font-weight-medium @font-size-base @font-family;
  padding: @input-padding-vertical-base @input-padding-horizontal-base;

  &:read-only,
  &-disabled {
    &,
    .has-error & {
      pointer-events: none;
      border-color: @input-disabled-border;
    }
  }

  &:read-only {
    &,
    .has-error & {
      color: @ink;
      background: @input-disabled-bg;
    }
  }

  &:focus {
    &,
    .has-error & {
      box-shadow: none;
    }

    &::placeholder {
      color: transparent;
    }
  }

  &:invalid {
    box-shadow: none;
  }

  &::-ms-clear {
    display: none;
  }

  &-affix-wrapper {
    height: @input-height-base;
    padding: 0;

    input.@{ant-input} {
      height: 100%;
      padding: @input-padding-vertical-base @input-padding-horizontal-base;
    }

    &--suffix input.@{ant-input} {
      padding-right: @input-affix-padding;
    }

    &--prefix input.@{ant-input} {
      padding-left: @input-affix-padding;
    }

    .@{ant-input} {
      &-prefix,
      &-suffix {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        color: @input-icon-color;
        z-index: 2;
        line-height: 0;
        font-family: @font-family;
      }

      &-prefix {
        left: 10px;
      }

      &-suffix {
        right: 10px;
      }
    }

    &:hover {
      .@{ant-input}-disabled,
      .@{ant-input}:read-only {
        border-color: @input-disabled-border;
      }
    }

    &.@{ant-input}-container--hover {
      border-color: @gray;
    }

    &.@{ant-input}-container--focus {
      border-color: @primary-color;
    }
  }

  &-container {
    &--hover {
      .@{ant-input}-group-addon,
      .@{ant-input} {
        border-color: @gray;
        box-shadow: none;
      }
    }

    &--focus {
      .@{ant-input}-group-addon,
      .@{ant-input} {
        border-color: @primary-color;
        border-width: @border-width-base;
        box-shadow: none;
      }
    }
  }
}

.@{form-item-prefix-cls}-has-error {
  .@{ant-input}-affix-wrapper.@{ant-input}-container--hover,
  .@{ant-input}-affix-wrapper.@{ant-input}-container--focus,
  .@{ant-input}-group-addon,
  .@{ant-input} {
    border-color: @red;

    &:focus {
      box-shadow: none;
    }
  }

  .@{ant-input}-group-addon {
    background: @gray-lighter;
    color: @gray-dark;
  }
}
