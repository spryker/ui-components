@import 'ng-zorro-antd/input/style/index.less';
@import '../theme.less';

.@{ant-input}-group {
  .@{ant-input} {
    &:only-child {
      border-radius: @border-radius-base;
    }
  }

  &-addon {
    background: @gray-lighter;
    color: @gray-dark;

    &:first-of-type {
      padding-right: @input-add-before-spacing;
    }
  }
}

.@{ant-input}-affix-wrapper {
  height: @input-height-base;
  padding: 0;

  input.@{ant-input} {
    height: 100%;
    padding: @input-padding-vertical-base @input-affix-padding;
  }

  .@{ant-input} {
    &-prefix,
    &-suffix {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      color: @input-icon-color;
      z-index: 2;
      line-height: 0;
    }

    &-prefix {
      left: 10px;
    }

    &-suffix {
      right: 10px;
    }
  }

  &:hover {
    .@{ant-input}-disabled,
    .@{ant-input}:read-only {
      border-color: @input-disabled-border;
    }

    .@{ant-input}:focus {
      border-color: @primary-color;
    }
  }

  &:focus,
  &-focused {
    box-shadow: none;
    border-color: @input-focus-border-color !important;
  }
}

.@{ant-input} {
  height: @input-height-base;
  font: @font-weight-medium @font-size-base @font-family;
  padding: @input-padding-vertical-base @input-padding-horizontal-base;

  &:read-only,
  &-disabled {
    &,
    .has-error & {
      pointer-events: none;
      border-color: @input-disabled-border;
    }
  }

  &:read-only {
    &,
    .has-error & {
      color: @ink;
      background: @input-disabled-bg;
    }
  }

  &:focus {
    &,
    .has-error & {
      box-shadow: none;
    }

    &::placeholder {
      color: transparent;
    }
  }

  &:invalid {
    box-shadow: none;
  }

  &::-ms-clear {
    display: none;
  }
}

.@{ant-input-wrapper} {
  .@{ant-input-group} {
    border: @border-width-base @border-style-base @transparent;
    border-radius: @border-radius-base;
  }

  .@{form-item-prefix-cls}-has-error & {
    .@{ant-input-group} {
      border-color: @red;
    }
  }

  &.@{ant-input-container}--hover {
    &:not(.@{ant-input-group}) {
      .@{ant-input-group} {
        border-color: @gray;

        .@{ant-input} {
          border-color: @transparent;
          border-left-color: @gray-light;
          border-right-color: @gray-light;
        }
      }
    }
  }

  &.@{ant-input-container}--focus {
    &:not(.@{ant-input-group}) {
      .@{ant-input-group} {
        border-color: @primary-color;
      }

      .@{ant-input} {
        border-color: @transparent;
        border-left-color: @gray-light;
        border-right-color: @gray-light;
      }
    }
  }
}
