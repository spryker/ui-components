<ng-container *spyTableFeatureTpl="tableFeatureLocation.top">
  <div>
    <spy-popover>
      <spy-button-toggle trigger>
        <spy-icon [name]="settingsIcon"></spy-icon>
      </spy-button-toggle>
      <div id="content">
        <div class="spy-table-settings-feature__title">Table settings</div>
        <div
          cdkDropList
          class="spy-table-settings-feature"
          (cdkDropListDropped)="drop($event)"
        >
          <div
            cdkDrag
            *ngFor="let movie of movies"
            class="spy-table-settings-feature__item"
            [cdkDragDisabled]="!movie.hideable"
          >
            <div
              class="spy-table-settings-feature__drag-placeholder"
              *cdkDragPlaceholder
            ></div>
            <spy-checkbox
              [checked]="!movie.hidden"
              [disabled]="!movie.hideable"
              class="spy-table-settings-feature__item-check"
            ></spy-checkbox>
            <span class="spy-table-settings-feature__item-name">{{
              movie.title
            }}</span>
            <spy-icon
              class="spy-table-settings-feature__icon"
              name="drag"
            ></spy-icon>
          </div>
        </div>
        <div class="spy-table-settings-feature__footer">
          <button class="spy-table-settings-feature__reset-button">
            <spy-icon
              class="spy-table-settings-feature__reset-button-icon"
              [name]="resetIcon"
            ></spy-icon>
            Reset
          </button>
        </div>
      </div>
    </spy-popover>
  </div>
</ng-container>
