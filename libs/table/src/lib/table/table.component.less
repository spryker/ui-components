@import './table.component.theme.less';

* {
  box-sizing: border-box;
}

body {
  background: #cccccc;
}

.@{table-prefix-cls} {
  margin-bottom: @table-bottom-margin;
  font: @font-weight-medium @font-size-base @font-family;
  background: none;

  &-body {
    overflow: auto !important;
  }

  &-features {
    &--before-table {
      padding-bottom: @table-features-padding-vertical;
    }

    spy-table-features-renderer {
      display: flex;
      flex-grow: 1;

      > div {
        width: 100%;
      }
    }
  }

  &-row {
    height: @table-row-height;
  }

  &-column-sorters {
    padding: 0;
  }

  &-column-sorter-up,
  &-column-sorter-down {
    font-size: @table-column-title-font-size;
  }

  &-column-sorter-up + &-column-sorter-down {
    margin-top: -5px;
  }

  &-thead > tr > th {
    color: @table-header-color;
    background: transparent;
    border-bottom: none;
    text-transform: uppercase;

    &[colspan] {
      text-align: left;
    }

    .@{table-prefix-cls}-column-sorter {
      display: block;
      position: relative;
      width: @table-sorts-holder-width;
      height: @table-sorts-holder-height;
      margin: 0;

      .@{table-prefix-cls}-column-sorter-inner {
        height: auto;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        margin: 0;
        right: 0;
        color: @table-header-icon-color;
        line-height: 0;
      }
    }

    .@{table-prefix-cls}-column-title {
      font-size: @table-column-title-font-size;
    }
  }

  &-thead > tr,
  &-tbody > tr {
    &.@{table-prefix-cls}-row-hover,
    &:hover {
      background: none;

      &:not(.@{table-prefix-cls}-expanded-row):not(.@{table-prefix-cls}-row-selected)
        > td {
        background: none;

        .@{table-prefix-cls}-column-inner::after {
          box-shadow: @table-body-hover-row-border-shadow;
        }
      }
    }

    &:first-child > th {
      &:last-child,
      &:first-child {
        border-radius: 0;
      }
    }

    th.@{table-prefix-cls}-column-has-sorters,
    > th {
      padding: @table-head-padding-vertical @table-padding-horizontal;
      color: @table-column-head-color;
      white-space: nowrap;
      font-size: @table-column-title-font-size;

      &:hover {
        background: none;
      }

      .ant-checkbox-wrapper {
        position: relative;

        &::before {
          content: '';
          position: absolute;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
          width: @table-head-checkbox-wrapper-size;
          height: @table-head-checkbox-wrapper-size;
          background: @table-head-checkbox-wrapper-bg;
          border-radius: @checkbox-border-radius;
        }
      }
    }

    > td {
      padding: 0;
      border-bottom: none;
      z-index: 0;
      height: inherit;

      // safari styles
      @media not all and (min-resolution: 0.001dpcm) {
        position: relative;
      }

      .@{table-prefix-cls}-column-inner {
        position: relative;
        padding: @table-body-padding-top @table-padding-horizontal
          @table-body-padding-bottom;
        color: @table-column-body-color;
        display: flex;
        flex-direction: column;
        justify-content: center;
        height: 100%;
        z-index: 0;

        // safari styles
        @media not all and (min-resolution: 0.001dpcm) {
          position: static;
        }

        &--align-right {
          align-items: flex-end;
        }

        &::after {
          content: '';
          position: absolute;
          top: @table-body-margin-vertical;
          bottom: @table-body-margin-vertical;
          left: 0;
          width: 100%;
          background: @table-body-row-bg;
          border-top: @table-border-radius-base solid transparent;
          border-bottom: @table-border-radius-base solid transparent;
          transition: background @common-transition-time
              @common-transition-function,
            border @common-transition-time @common-transition-function,
            box-shadow @common-transition-time @common-transition-function;
          z-index: -1;
        }
      }

      &:first-child .@{table-prefix-cls}-column-inner::after {
        border-radius: @border-radius-base 0 0 @border-radius-base;
        border-left: @table-border-radius-base solid transparent;
      }

      &:last-child .@{table-prefix-cls}-column-inner::after {
        border-radius: 0 @border-radius-base @border-radius-base 0;
        border-right: @table-border-radius-base solid transparent;
      }
    }

    &:first-child > td .@{table-prefix-cls}-column-inner::after {
      top: 0;
    }

    &:last-child > td .@{table-prefix-cls}-column-inner::after {
      bottom: 0;
    }

    > td,
    > th {
      &.@{table-prefix-cls}-column-sort {
        background: transparent;
      }

      &.@{table-prefix-cls}-column-selectable {
        width: (@table-padding-horizontal * 2) + @checkbox-size;
      }
    }
  }

  &-placeholder {
    display: none;
  }

  &-header {
    background: transparent;
  }

  &-wrapper {
    .@{spin-prefix-cls} {
      &-container {
        &::after {
          display: none;
        }
      }

      &-nested-loading {
        display: block;

        > div > .@{spin-prefix-cls} {
          position: absolute;
          top: 0;
          left: 50%;
          transform: translateX(-50%);
        }
      }
    }
  }

  &-empty {
    display: flex;
    height: @table-empty-container-height;
    justify-content: center;
    align-items: center;
    flex-flow: column wrap;
    font: @font-weight-medium @font-size-base @font-family;
    border-radius: @border-radius-base;
    background: @white;
    padding: @table-empty-container-padding;
    color: @gray-dark;

    &__title {
      padding-bottom: 9px;
      font-weight: @font-weight-semi-bold;
      font-size: @heading-3-font-size;
      color: @gray-darker;

      &--sm {
        font-size: @heading-5-font-size;
      }
    }

    &__icon {
      display: block;
      font-size: @table-empty-icon-size;
      margin-bottom: 20px;

      &--sm {
        font-size: @table-empty-icon-size-sm;
      }
    }
  }
}
